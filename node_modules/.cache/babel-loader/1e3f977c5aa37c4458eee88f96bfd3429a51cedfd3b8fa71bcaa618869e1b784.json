{"ast":null,"code":"var _jsxFileName = \"/home/dhinakaran/Within_React/blogger_vmi/app/javascript/packs/UserShow.jsx\";\nimport React from \"react\";\nfunction UserShow() {\n  var _this = this;\n  var rootDiv = document.getElementById(\"root\");\n  var articles = JSON.parse(rootDiv.getAttribute(\"article\"));\n  var user = JSON.parse(rootDiv.getAttribute(\"user\"));\n  var handleDelete = function handleDelete() {\n    fetch(\"/users/\".concat(user.id), {\n      method: \"DELETE\",\n      headers: {\n        \"X-CSRF-Token\": document.querySelector('meta[name=\"csrf-token\"]').content,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.ok) {\n        alert(\"Account deleted successfully.\");\n        window.location.href = \"/\"; // Redirect to home after deletion\n      } else {\n        alert(\"Failed to delete account.\");\n      }\n    })[\"catch\"](function (error) {\n      return console.error(\"Error:\", error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, articles.map(function (article) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: article.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/articles/\".concat(article.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }, article.title));\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/articles/new?user_id=\".concat(user.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Create new article\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    style: {\n      backgroundColor: \"red\",\n      color: \"white\",\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Delete Account\"));\n}\nexport default UserShow;","map":{"version":3,"names":["React","UserShow","_this","rootDiv","document","getElementById","articles","JSON","parse","getAttribute","user","handleDelete","fetch","concat","id","method","headers","querySelector","content","then","response","ok","alert","window","location","href","error","console","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","article","key","title","onClick","style","backgroundColor","color","marginTop"],"sources":["/home/dhinakaran/Within_React/blogger_vmi/app/javascript/packs/UserShow.jsx"],"sourcesContent":["import React from \"react\";\n\nfunction UserShow() {\n    const rootDiv = document.getElementById(\"root\");\n    const articles = JSON.parse(rootDiv.getAttribute(\"article\"));\n    const user = JSON.parse(rootDiv.getAttribute(\"user\"));\n\n    const handleDelete = () => {\n        fetch(`/users/${user.id}`, {\n            method: \"DELETE\",\n            headers: {\n                \"X-CSRF-Token\": document.querySelector('meta[name=\"csrf-token\"]').content,\n                \"Content-Type\": \"application/json\",\n            },\n        })\n        .then(response => {\n            if (response.ok) {\n                alert(\"Account deleted successfully.\");\n                window.location.href = \"/\"; // Redirect to home after deletion\n            } else {\n                alert(\"Failed to delete account.\");\n            }\n        })\n        .catch(error => console.error(\"Error:\", error));\n    };\n\n    return (\n        <>\n            <ul>\n                {articles.map((article) => (\n                    <li key={article.id}>\n                        <a href={`/articles/${article.id}`}>{article.title}</a>\n                    </li>\n                ))}\n            </ul>\n            <a href={`/articles/new?user_id=${user.id}`}>Create new article</a>\n            \n            {/* Delete Account Button */}\n            <button onClick={handleDelete} style={{ backgroundColor: \"red\", color: \"white\", marginTop: \"10px\" }}>\n                Delete Account\n            </button>\n        </>\n    );\n}\n\nexport default UserShow;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQA,CAAA,EAAG;EAAA,IAAAC,KAAA;EAChB,IAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;EAC/C,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,OAAO,CAACM,YAAY,CAAC,SAAS,CAAC,CAAC;EAC5D,IAAMC,IAAI,GAAGH,IAAI,CAACC,KAAK,CAACL,OAAO,CAACM,YAAY,CAAC,MAAM,CAAC,CAAC;EAErD,IAAME,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACvBC,KAAK,WAAAC,MAAA,CAAWH,IAAI,CAACI,EAAE,GAAI;MACvBC,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QACL,cAAc,EAAEZ,QAAQ,CAACa,aAAa,CAAC,yBAAyB,CAAC,CAACC,OAAO;QACzE,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC,CACDC,IAAI,CAAC,UAAAC,QAAQ,EAAI;MACd,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACbC,KAAK,CAAC,+BAA+B,CAAC;QACtCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG,CAAC,CAAC;MAChC,CAAC,MAAM;QACHH,KAAK,CAAC,2BAA2B,CAAC;MACtC;IACJ,CAAC,CAAC,SACI,CAAC,UAAAI,KAAK;MAAA,OAAIC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAAA,EAAC;EACnD,CAAC;EAED,oBACI1B,KAAA,CAAA4B,aAAA,CAAA5B,KAAA,CAAA6B,QAAA,qBACI7B,KAAA,CAAA4B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACK7B,QAAQ,CAAC8B,GAAG,CAAC,UAACC,OAAO;IAAA,oBAClBrC,KAAA,CAAA4B,aAAA;MAAIU,GAAG,EAAED,OAAO,CAACvB,EAAG;MAAAgB,MAAA,EAAA5B,KAAA;MAAA6B,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAChBnC,KAAA,CAAA4B,aAAA;MAAGH,IAAI,eAAAZ,MAAA,CAAewB,OAAO,CAACvB,EAAE,CAAG;MAAAgB,MAAA,EAAA5B,KAAA;MAAA6B,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEE,OAAO,CAACE,KAAS,CACtD,CAAC;EAAA,CACR,CACD,CAAC,eACLvC,KAAA,CAAA4B,aAAA;IAAGH,IAAI,2BAAAZ,MAAA,CAA2BH,IAAI,CAACI,EAAE,CAAG;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAAqB,CAAC,eAGnEnC,KAAA,CAAA4B,aAAA;IAAQY,OAAO,EAAE7B,YAAa;IAAC8B,KAAK,EAAE;MAAEC,eAAe,EAAE,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,gBAE7F,CACV,CAAC;AAEX;AAEA,eAAelC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}