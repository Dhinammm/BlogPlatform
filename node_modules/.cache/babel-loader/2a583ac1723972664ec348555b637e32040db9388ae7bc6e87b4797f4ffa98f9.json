{"ast":null,"code":"var _jsxFileName = \"/home/dhina/React/BlogPlatform/app/javascript/Components/UserShow.jsx\";\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nfunction UserShow() {\n  var _this = this;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    auth = _useState4[0],\n    setAuth = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    articles = _useState6[0],\n    setArticle = _useState6[1];\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var csrf = document.querySelector('meta[name=\"csrf-token\"]').getAttribute(\"content\");\n  axios.defaults.headers[\"X-CSRF-Token\"] = csrf;\n  var _useState7 = useState(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    fake = _useState8[0],\n    setFake = _useState8[1];\n  useEffect(function () {\n    axios.get(\"http://localhost:3000/users/\".concat(id), {\n      headers: {\n        Accept: \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.data.res == false) {\n        setUser(response.data.user);\n        setArticle(response.data.articles);\n        setFake(response.data.fake);\n        setAuth(false);\n      } else {\n        window.location.href = \"/not_found\";\n      }\n    })[\"catch\"](function (error) {\n      console.error(\"Error fetching data:\", error);\n    });\n  }, []);\n  function deletehandler() {\n    axios[\"delete\"](\"http://localhost:3000/users/\".concat(id)).then(function (response) {\n      return window.location.href = \"http://localhost:3000/users/\";\n    })[\"catch\"](function (error) {\n      console.error(\"Error fetching data:\", error);\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, user.name), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, articles.map(function (article) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: article.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/articles/\".concat(article.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, article.title));\n  })), articles.nil ? \"User haven't posted any articles\" : null, !fake && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return deletehandler();\n    },\n    style: {\n      backgroundColor: \"red\",\n      color: \"white\",\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Delete Account\"), !fake && !auth && /*#__PURE__*/React.createElement(Link, {\n    to: \"/articles/new\",\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Create article\"));\n}\nexport default UserShow;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","UserShow","_this","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","auth","setAuth","_useState5","_useState6","articles","setArticle","_useParams","id","csrf","document","querySelector","getAttribute","defaults","headers","_useState7","_useState8","fake","setFake","get","concat","Accept","then","response","data","res","window","location","href","error","console","deletehandler","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","map","article","key","to","title","nil","onClick","style","backgroundColor","color","marginTop","className"],"sources":["/home/dhina/React/BlogPlatform/app/javascript/Components/UserShow.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nfunction UserShow() {\n  const [user, setUser] = useState();\n  const [auth, setAuth] = useState(true);\n\n  const [articles, setArticle] = useState([]);\n  const { id } = useParams();\n  const csrf = document\n    .querySelector('meta[name=\"csrf-token\"]')\n    .getAttribute(\"content\");\n  axios.defaults.headers[\"X-CSRF-Token\"] = csrf;\n  const [fake, setFake] = useState();\n  useEffect(() => {\n    axios\n      .get(`http://localhost:3000/users/${id}`, {\n        headers: { Accept: \"application/json\" },\n      })\n      .then((response) => {\n        if (response.data.res == false) {\n          setUser(response.data.user);\n          setArticle(response.data.articles);\n          setFake(response.data.fake);\n          setAuth(false);\n        } else {\n          window.location.href = \"/not_found\";\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, []);\n\n  function deletehandler() {\n    axios\n      .delete(`http://localhost:3000/users/${id}`)\n\n      .then(\n        (response) => (window.location.href = `http://localhost:3000/users/`)\n      )\n\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }\n\n  return (\n    <>\n    <h3>{user.name}</h3>\n      <ul>\n        {articles.map((article) => (\n          <li key={article.id}>\n            <Link to={`/articles/${article.id}`}>{article.title}</Link>\n          </li>\n        ))}\n      </ul>\n      {articles.nil ? \"User haven't posted any articles\" : null}\n      {!fake && (\n        <button\n          onClick={() => deletehandler()}\n          style={{ backgroundColor: \"red\", color: \"white\", marginTop: \"10px\" }}\n        >\n          Delete Account\n        </button>\n      )}\n      {!fake && !auth && (\n        <Link to=\"/articles/new\" className=\"btn btn-success\">\n          Create article\n        </Link>\n      )}\n    </>\n  );\n}\n\nexport default UserShow;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQA,CAAA,EAAG;EAAA,IAAAC,KAAA;EAClB,IAAAC,SAAA,GAAwBP,QAAQ,CAAC,CAAC;IAAAQ,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA3BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAAI,UAAA,GAAwBZ,QAAQ,CAAC,IAAI,CAAC;IAAAa,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA/BE,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EAEpB,IAAAG,UAAA,GAA+BhB,QAAQ,CAAC,EAAE,CAAC;IAAAiB,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAApCE,QAAQ,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC3B,IAAAG,UAAA,GAAelB,SAAS,CAAC,CAAC;IAAlBmB,EAAE,GAAAD,UAAA,CAAFC,EAAE;EACV,IAAMC,IAAI,GAAGC,QAAQ,CAClBC,aAAa,CAAC,yBAAyB,CAAC,CACxCC,YAAY,CAAC,SAAS,CAAC;EAC1BrB,KAAK,CAACsB,QAAQ,CAACC,OAAO,CAAC,cAAc,CAAC,GAAGL,IAAI;EAC7C,IAAAM,UAAA,GAAwB5B,QAAQ,CAAC,CAAC;IAAA6B,UAAA,GAAApB,cAAA,CAAAmB,UAAA;IAA3BE,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EACpB5B,SAAS,CAAC,YAAM;IACdG,KAAK,CACF4B,GAAG,gCAAAC,MAAA,CAAgCZ,EAAE,GAAI;MACxCM,OAAO,EAAE;QAAEO,MAAM,EAAE;MAAmB;IACxC,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClB,IAAIA,QAAQ,CAACC,IAAI,CAACC,GAAG,IAAI,KAAK,EAAE;QAC9B3B,OAAO,CAACyB,QAAQ,CAACC,IAAI,CAAC3B,IAAI,CAAC;QAC3BS,UAAU,CAACiB,QAAQ,CAACC,IAAI,CAACnB,QAAQ,CAAC;QAClCa,OAAO,CAACK,QAAQ,CAACC,IAAI,CAACP,IAAI,CAAC;QAC3Bf,OAAO,CAAC,KAAK,CAAC;MAChB,CAAC,MAAM;QACLwB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,YAAY;MACrC;IACF,CAAC,CAAC,SACI,CAAC,UAACC,KAAK,EAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,SAASE,aAAaA,CAAA,EAAG;IACvBxC,KAAK,UACI,gCAAA6B,MAAA,CAAgCZ,EAAE,CAAE,CAAC,CAE3Cc,IAAI,CACH,UAACC,QAAQ;MAAA,OAAMG,MAAM,CAACC,QAAQ,CAACC,IAAI,iCAAiC;IAAA,CACtE,CAAC,SAEK,CAAC,UAACC,KAAK,EAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN;EAEA,oBACE3C,KAAA,CAAA8C,aAAA,CAAA9C,KAAA,CAAA+C,QAAA,qBACA/C,KAAA,CAAA8C,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK1C,IAAI,CAAC2C,IAAS,CAAC,eAClBtD,KAAA,CAAA8C,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGlC,QAAQ,CAACoC,GAAG,CAAC,UAACC,OAAO;IAAA,oBACpBxD,KAAA,CAAA8C,aAAA;MAAIW,GAAG,EAAED,OAAO,CAAClC,EAAG;MAAA0B,MAAA,EAAAzC,KAAA;MAAA0C,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAClBrD,KAAA,CAAA8C,aAAA,CAAC1C,IAAI;MAACsD,EAAE,eAAAxB,MAAA,CAAesB,OAAO,CAAClC,EAAE,CAAG;MAAA0B,MAAA,EAAAzC,KAAA;MAAA0C,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEG,OAAO,CAACG,KAAY,CACxD,CAAC;EAAA,CACN,CACC,CAAC,EACJxC,QAAQ,CAACyC,GAAG,GAAG,kCAAkC,GAAG,IAAI,EACxD,CAAC7B,IAAI,iBACJ/B,KAAA,CAAA8C,aAAA;IACEe,OAAO,EAAE,SAATA,OAAOA,CAAA;MAAA,OAAQhB,aAAa,CAAC,CAAC;IAAA,CAAC;IAC/BiB,KAAK,EAAE;MAAEC,eAAe,EAAE,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtE,gBAEO,CACT,EACA,CAACtB,IAAI,IAAI,CAAChB,IAAI,iBACbf,KAAA,CAAA8C,aAAA,CAAC1C,IAAI;IAACsD,EAAE,EAAC,eAAe;IAACQ,SAAS,EAAC,iBAAiB;IAAAlB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,gBAE/C,CAER,CAAC;AAEP;AAEA,eAAe/C,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}