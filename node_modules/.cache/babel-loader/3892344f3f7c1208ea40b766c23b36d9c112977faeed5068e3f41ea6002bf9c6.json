{"ast":null,"code":"var _jsxFileName = \"/home/dhinakaran/React/app/javascript/packs/UserShow.jsx\";\nimport React from \"react\";\nfunction UserShow() {\n  var _this = this;\n  var rootDiv = document.getElementById(\"root\");\n  var articles = JSON.parse(rootDiv.getAttribute(\"article\"));\n  var user = JSON.parse(rootDiv.getAttribute(\"user\"));\n\n  // Get CSRF Token from the Rails meta tag\n  var csrfToken = document.querySelector('meta[name=\"csrf-token\"]').content;\n  var handleDelete = function handleDelete() {\n    if (!csrfToken) {\n      alert(\"Csrf not present\");\n    }\n    if (!window.confirm(\"Are you sure you want to delete your account?\")) return;\n    fetch(\"/users/\".concat(user.id), {\n      method: \"DELETE\",\n      headers: {\n        \"X-CSRF-Token\": csrfToken,\n        // Include CSRF token\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.ok) {\n        alert(\"Account deleted successfully.\");\n        window.location.href = \"/users\"; // Redirect after deletion\n      } else {\n        response.json().then(function (data) {\n          return alert(data.error || \"Failed to delete account.\");\n        });\n      }\n    })[\"catch\"](function (error) {\n      return console.error(\"Error:\", error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, articles.map(function (article) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: article.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/articles/\".concat(article.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, article.title));\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/articles/new?user_id=\".concat(user.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Create new article\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    style: {\n      backgroundColor: \"red\",\n      color: \"white\",\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Delete Account\"));\n}\nexport default UserShow;","map":{"version":3,"names":["React","UserShow","_this","rootDiv","document","getElementById","articles","JSON","parse","getAttribute","user","csrfToken","querySelector","content","handleDelete","alert","window","confirm","fetch","concat","id","method","headers","then","response","ok","location","href","json","data","error","console","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","article","key","title","onClick","style","backgroundColor","color","marginTop"],"sources":["/home/dhinakaran/React/app/javascript/packs/UserShow.jsx"],"sourcesContent":["import React from \"react\";\n\nfunction UserShow() {\n    const rootDiv = document.getElementById(\"root\");\n    const articles = JSON.parse(rootDiv.getAttribute(\"article\"));\n    const user = JSON.parse(rootDiv.getAttribute(\"user\"));\n\n    // Get CSRF Token from the Rails meta tag\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]').content;\n    const handleDelete = () => {\n        if (!csrfToken)\n        {alert(\"Csrf not present\");}\n        if (!window.confirm(\"Are you sure you want to delete your account?\")) return;\n\n        fetch(`/users/${user.id}`, {\n            method: \"DELETE\",\n            headers: {\n                \"X-CSRF-Token\": csrfToken,  // Include CSRF token\n                \"Content-Type\": \"application/json\",\n            },\n        })\n        .then(response => {\n            if (response.ok) {\n                alert(\"Account deleted successfully.\");\n                window.location.href = \"/users\"; // Redirect after deletion\n            } else {\n                response.json().then(data => alert(data.error || \"Failed to delete account.\"));\n            }\n        })\n        .catch(error => console.error(\"Error:\", error));\n    };\n\n    return (\n        <>\n            <ul>\n                {articles.map((article) => (\n                    <li key={article.id}>\n                        <a href={`/articles/${article.id}`}>{article.title}</a>\n                    </li>\n                ))}\n            </ul>\n            <a href={`/articles/new?user_id=${user.id}`}>Create new article</a>\n            \n            {/* Delete Account Button */}\n            <button onClick={handleDelete} style={{ backgroundColor: \"red\", color: \"white\", marginTop: \"10px\" }}>\n                Delete Account\n            </button>\n        </>\n    );\n}\n\nexport default UserShow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}